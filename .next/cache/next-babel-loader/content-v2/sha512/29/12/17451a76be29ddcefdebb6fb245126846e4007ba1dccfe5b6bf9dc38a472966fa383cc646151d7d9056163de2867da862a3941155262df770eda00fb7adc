{"ast":null,"code":"var _jsxFileName = \"/Users/roberthawker/Desktop/moods/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport dbConnect from \"../utils/dbConnect\";\nimport Movie from \"../models/Movie\";\n\nconst Index = ({\n  movies\n}) => __jsx(React.Fragment, null, __jsx(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }\n}, \"Movies\"), movies.map(movie => __jsx(\"div\", {\n  key: movie._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 7\n  }\n}, __jsx(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }\n}, movie.title), __jsx(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }\n}, movie.year), __jsx(\"img\", {\n  src: movie.poster,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }\n}))));\n/* Retrieves movie data from mongodb database */\n\n\nexport async function getServerSideProps() {\n  await dbConnect();\n  /* find all the data in our database */\n\n  const result = await Movie.find({});\n  const movies = result.map(doc => {\n    const movie = doc.toObject();\n    movie._id = movie._id.toString();\n    return movie;\n  });\n  return {\n    props: {\n      movies: movies\n    }\n  };\n}\nexport default Index;","map":{"version":3,"sources":["/Users/roberthawker/Desktop/moods/pages/index.js"],"names":["Link","dbConnect","Movie","Index","movies","map","movie","_id","title","year","poster","getServerSideProps","result","find","doc","toObject","toString","props"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACZ,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEGA,MAAM,CAACC,GAAP,CAAYC,KAAD,IACV;AAAK,EAAA,GAAG,EAAEA,KAAK,CAACC,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAKD,KAAK,CAACE,KAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIF,KAAK,CAACG,IAAV,CAFF,EAGE;AAAK,EAAA,GAAG,EAAEH,KAAK,CAACI,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAHF,CADD,CAFH,CADF;AAaA;;;AACA,OAAO,eAAeC,kBAAf,GAAoC;AACzC,QAAMV,SAAS,EAAf;AAEA;;AACA,QAAMW,MAAM,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAW,EAAX,CAArB;AACA,QAAMT,MAAM,GAAGQ,MAAM,CAACP,GAAP,CAAYS,GAAD,IAAS;AACjC,UAAMR,KAAK,GAAGQ,GAAG,CAACC,QAAJ,EAAd;AACAT,IAAAA,KAAK,CAACC,GAAN,GAAYD,KAAK,CAACC,GAAN,CAAUS,QAAV,EAAZ;AACA,WAAOV,KAAP;AACD,GAJc,CAAf;AAMA,SAAO;AAAEW,IAAAA,KAAK,EAAE;AAAEb,MAAAA,MAAM,EAAEA;AAAV;AAAT,GAAP;AACD;AAED,eAAeD,KAAf","sourcesContent":["import Link from \"next/link\";\nimport dbConnect from \"../utils/dbConnect\";\nimport Movie from \"../models/Movie\";\n\nconst Index = ({ movies }) => (\n  <>\n    <h1>Movies</h1>\n    {movies.map((movie) => (\n      <div key={movie._id}>\n        <h1>{movie.title}</h1>\n        <p>{movie.year}</p>\n        <img src={movie.poster} />\n      </div>\n    ))}\n  </>\n);\n\n/* Retrieves movie data from mongodb database */\nexport async function getServerSideProps() {\n  await dbConnect();\n\n  /* find all the data in our database */\n  const result = await Movie.find({});\n  const movies = result.map((doc) => {\n    const movie = doc.toObject();\n    movie._id = movie._id.toString();\n    return movie;\n  });\n\n  return { props: { movies: movies } };\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}