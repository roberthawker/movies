{"ast":null,"code":"var _jsxFileName = \"/Users/roberthawker/Desktop/MovieMongoose 2/pages/[id]/edit.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport useSWR from 'swr';\nimport Form from '../../components/Form';\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (res) {\n    return res.json();\n  }).then(function (json) {\n    return json.data;\n  });\n};\n\nvar EditMovie = function EditMovie() {\n  _s();\n\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useSWR = useSWR(id ? \"/api/movies/\".concat(id) : null, fetcher),\n      movie = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) return __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 21\n    }\n  }, \"Failed to load\");\n  if (!movie) return __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 22\n    }\n  }, \"Loading...\");\n  var movieForm = {\n    title: movie.title,\n    year: movie.year,\n    poster: movie.poster\n  };\n  return __jsx(Form, {\n    formId: \"edit-movie-form\",\n    movieForm: movieForm,\n    forNewMovie: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 10\n    }\n  });\n};\n\n_s(EditMovie, \"V5oix7q3dSnlcw5goIBzr5ahRmY=\", false, function () {\n  return [useRouter, useSWR];\n});\n\n_c = EditMovie;\nexport default EditMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMovie\");","map":{"version":3,"sources":["/Users/roberthawker/Desktop/MovieMongoose 2/pages/[id]/edit.js"],"names":["useRouter","useSWR","Form","fetcher","url","fetch","then","res","json","data","EditMovie","router","id","query","movie","error","movieForm","title","year","poster"],"mappings":";;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;AAAA,SACdC,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACE,IAAD;AAAA,WAAUA,IAAI,CAACC,IAAf;AAAA,GAFR,CADc;AAAA,CAAhB;;AAKA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AACtB,MAAMC,MAAM,GAAGX,SAAS,EAAxB;AADsB,MAEdY,EAFc,GAEPD,MAAM,CAACE,KAFA,CAEdD,EAFc;;AAAA,gBAGSX,MAAM,CAACW,EAAE,yBAAkBA,EAAlB,IAAyB,IAA5B,EAAkCT,OAAlC,CAHf;AAAA,MAGRW,KAHQ,WAGdL,IAHc;AAAA,MAGDM,KAHC,WAGDA,KAHC;;AAKtB,MAAIA,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACX,MAAI,CAACD,KAAL,EAAY,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AAEZ,MAAME,SAAS,GAAG;AAChBC,IAAAA,KAAK,EAAEH,KAAK,CAACG,KADG;AAEhBC,IAAAA,IAAI,EAAEJ,KAAK,CAACI,IAFI;AAGhBC,IAAAA,MAAM,EAAEL,KAAK,CAACK;AAHE,GAAlB;AAMA,SAAO,MAAC,IAAD;AAAM,IAAA,MAAM,EAAC,iBAAb;AAA+B,IAAA,SAAS,EAAEH,SAA1C;AAAqD,IAAA,WAAW,EAAE,KAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAfD;;GAAMN,S;UACWV,S,EAEgBC,M;;;KAH3BS,S;AAiBN,eAAeA,SAAf","sourcesContent":["import { useRouter } from 'next/router'\nimport useSWR from 'swr'\nimport Form from '../../components/Form'\n\nconst fetcher = (url) =>\n  fetch(url)\n    .then((res) => res.json())\n    .then((json) => json.data)\n\nconst EditMovie = () => {\n  const router = useRouter()\n  const { id } = router.query\n  const { data: movie, error } = useSWR(id ? `/api/movies/${id}` : null, fetcher)\n\n  if (error) return <p>Failed to load</p>\n  if (!movie) return <p>Loading...</p>\n\n  const movieForm = {\n    title: movie.title,\n    year: movie.year,\n    poster: movie.poster,\n  }\n\n  return <Form formId=\"edit-movie-form\" movieForm={movieForm} forNewMovie={false} />\n}\n\nexport default EditMovie\n"]},"metadata":{},"sourceType":"module"}