{"ast":null,"code":"var _jsxFileName = \"/Users/roberthawker/Desktop/MyMovieApi/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport dbConnect from '../utils/dbConnect';\nimport Movie from '../models/Movie';\n\nconst Index = ({\n  movies\n}) => __jsx(React.Fragment, null, movies.map(movie => __jsx(\"div\", {\n  key: movie._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 7\n  }\n}, __jsx(\"div\", {\n  className: \"card\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }\n}, __jsx(\"img\", {\n  src: movie.poster,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }\n}), __jsx(\"h5\", {\n  className: \"movie-name\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }\n}, movie.title), __jsx(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }\n}, movie.year), __jsx(\"div\", {\n  className: \"main-content\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 11\n  }\n}, __jsx(\"div\", {\n  className: \"btn-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 13\n  }\n}, __jsx(Link, {\n  href: \"/[id]/edit\",\n  as: `/${movie._id}/edit`,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 15\n  }\n}, __jsx(\"button\", {\n  className: \"btn edit\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 17\n  }\n}, \"Edit\")), __jsx(Link, {\n  href: \"/[id]\",\n  as: `/${movie._id}`,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 15\n  }\n}, __jsx(\"button\", {\n  className: \"btn view\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 17\n  }\n}, \"View\"))))))));\n/* Retrieves pet(s) data from mongodb database */\n\n\nexport async function getServerSideProps() {\n  await dbConnect();\n  /* find all the data in our database */\n\n  const result = await Movie.find({});\n  const movies = result.map(doc => {\n    const movie = doc.toObject();\n    movie._id = movie._id.toString();\n    return movie;\n  });\n  return {\n    props: {\n      movies: movies\n    }\n  };\n}\nexport default Index;","map":{"version":3,"sources":["/Users/roberthawker/Desktop/MyMovieApi/pages/index.js"],"names":["Link","dbConnect","Movie","Index","movies","map","movie","_id","poster","title","year","getServerSideProps","result","find","doc","toObject","toString","props"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACZ,4BACGA,MAAM,CAACC,GAAP,CAAYC,KAAD,IACV;AAAK,EAAA,GAAG,EAAEA,KAAK,CAACC,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAK,EAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACA;AAAK,EAAA,GAAG,EAAED,KAAK,CAACE,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADA,EAEA;AAAI,EAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA4BF,KAAK,CAACG,KAAlC,CAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIH,KAAK,CAACI,IAAV,CAHA,EAIE;AAAK,EAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAK,EAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,MAAC,IAAD;AAAM,EAAA,IAAI,EAAC,YAAX;AAAwB,EAAA,EAAE,EAAG,IAAGJ,KAAK,CAACC,GAAI,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAQ,EAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,EAIE,MAAC,IAAD;AAAM,EAAA,IAAI,EAAC,OAAX;AAAmB,EAAA,EAAE,EAAG,IAAGD,KAAK,CAACC,GAAI,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAQ,EAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAJF,CADF,CAJF,CADF,CADD,CADH,CADF;AAwBA;;;AACA,OAAO,eAAeI,kBAAf,GAAoC;AACzC,QAAMV,SAAS,EAAf;AAEA;;AACA,QAAMW,MAAM,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAW,EAAX,CAArB;AACA,QAAMT,MAAM,GAAGQ,MAAM,CAACP,GAAP,CAAYS,GAAD,IAAS;AACjC,UAAMR,KAAK,GAAGQ,GAAG,CAACC,QAAJ,EAAd;AACAT,IAAAA,KAAK,CAACC,GAAN,GAAYD,KAAK,CAACC,GAAN,CAAUS,QAAV,EAAZ;AACA,WAAOV,KAAP;AACD,GAJc,CAAf;AAMA,SAAO;AAAEW,IAAAA,KAAK,EAAE;AAAEb,MAAAA,MAAM,EAAEA;AAAV;AAAT,GAAP;AACD;AAED,eAAeD,KAAf","sourcesContent":["import Link from 'next/link'\nimport dbConnect from '../utils/dbConnect'\nimport Movie from '../models/Movie'\n\nconst Index = ({ movies }) => (\n  <>\n    {movies.map((movie) => (\n      <div key={movie._id}>\n        <div className=\"card\">\n        <img src={movie.poster} />\n        <h5 className=\"movie-name\">{movie.title}</h5>\n        <p>{movie.year}</p>\n          <div className=\"main-content\">\n            <div className=\"btn-container\">\n              <Link href=\"/[id]/edit\" as={`/${movie._id}/edit`}>\n                <button className=\"btn edit\">Edit</button>\n              </Link>\n              <Link href=\"/[id]\" as={`/${movie._id}`}>\n                <button className=\"btn view\">View</button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    ))}\n  </>\n)\n\n/* Retrieves pet(s) data from mongodb database */\nexport async function getServerSideProps() {\n  await dbConnect()\n\n  /* find all the data in our database */\n  const result = await Movie.find({})\n  const movies = result.map((doc) => {\n    const movie = doc.toObject()\n    movie._id = movie._id.toString()\n    return movie\n  })\n\n  return { props: { movies: movies } }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}